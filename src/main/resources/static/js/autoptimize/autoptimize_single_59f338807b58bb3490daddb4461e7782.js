jQuery(document).ready(function($){var max_fields=jQuery(".ri").val();var wrapper=jQuery(".input_fields_wrap");var add_button=jQuery(".add_field_button");var add_buttonHTML='<div class="input-group mb-3"><div class="custom-file"><input type="file" class="custom-file-input" id="image_files" name="image_files[]"/><label class="custom-file-label" for="customFile">Choose file</label></div><div class="input-group-append"><button class="btn btn-outline-secondary remove_field">Remove</button></div></div>';var x=jQuery('.count_images').val();jQuery(add_button).click(function(e){e.preventDefault();if(max_fields!='unlimited'){if(Number(x)<(max_fields)){console.log(x);x++;jQuery(this).parent().parent().prepend(add_buttonHTML);}else{alert('You can upload only '+max_fields+' images.');}}else{jQuery(wrapper).append(add_buttonHTML);}});jQuery('.remove_image').click(function(e){var image_id=jQuery(this).siblings('.image_path').attr('value');var parent=jQuery(this);e.preventDefault();var data={action:'delete_image',image:image_id};jQuery.post(bd_ajax_object.ajax_url,data,function(response){parent.closest('.col-md-4').remove();jQuery('.add_image').show();x--;});});jQuery('.remove_image_banner').click(function(e){var image_id=jQuery(this).siblings('.image_path').attr('value');var parent=jQuery(this);e.preventDefault();var data={action:'delete_image',image:image_id};jQuery.post(bd_ajax_object.ajax_url,data,function(response){parent.closest('.col-md-4').remove();jQuery('.banner_img_wrap').html('<div class="input_fields_wrap"> <div class="input-group mb-3"> <div class="custom-file"><input type="file" class="custom-file-input" id="banner_image" name="banner_image"><label class="custom-file-label" for="banner_image">Choose file</label></div></div></div>');});});jQuery('.remove_image_profile_business').click(function(e){var image_id=jQuery(this).siblings('.image_path').attr('value');var parent=jQuery(this);e.preventDefault();var data={action:'delete_image',image:image_id};jQuery.post(bd_ajax_object.ajax_url,data,function(response){parent.closest('.col-md-4').remove();jQuery('.busines_profile_img_wrap').html('<div class="input_fields_wrap"> <div class="input-group mb-3"> <div class="custom-file"><input type="file" class="custom-file-input" id="business_profile_image" name="business_profile_image"><label class="custom-file-label" for="business_profile_image">Choose file</label></div></div></div>');});});jQuery("#add-services").click(function(){name_number=jQuery('#another-services1').children('input').length+1;var klon='<input type="text" class="form-control" name="bd_services['+name_number+'][service]" placeholder="Enter service that you provided"/>';jQuery('#another-services1').append(klon);});jQuery("#add-highlight").click(function(){name_number_new=jQuery('#another-highlights1').children('input').length+1;var klon_new=' <input type="text" class="form-control" name="bd_highlights['+name_number_new+'][service]" placeholder="Enter highlights text here"/>';jQuery('#another-highlights1').append(klon_new);});jQuery(wrapper).on("click",".remove_field",function(e){e.preventDefault();jQuery(this).parent('div').remove();x--;});jQuery(".businesscategories>ul>li>.sidebarsubcategories>li>a").click(function(event){event.preventDefault();jQuery(this).siblings('.nav.nav-list').slideToggle();});jQuery('#stars li').on('mouseover',function(){var onStar=parseInt(jQuery(this).data('value'),10);jQuery(this).parent().children('li.star').each(function(e){if(e<onStar){jQuery(this).addClass('hover');}
else{jQuery(this).removeClass('hover');}});}).on('mouseout',function(){jQuery(this).parent().children('li.star').each(function(e){jQuery(this).removeClass('hover');});});jQuery('#stars li').on('click',function(){var onStar=parseInt(jQuery(this).data('value'),10);var stars=jQuery(this).parent().children('li.star');for(i=0;i<stars.length;i++){jQuery(stars[i]).removeClass('selected');}
for(i=0;i<onStar;i++){jQuery(stars[i]).addClass('selected');}
var ratingValue=parseInt(jQuery('#stars li.selected').last().data('value'),10);var msg="";if(ratingValue>1){msg="Thanks! You rated this "+ratingValue+" stars.";jQuery('#rRating').val(ratingValue);}
else{msg="We will improve ourselves. You rated this "+ratingValue+" stars.";jQuery('#rRating').val(ratingValue);}
responseMessage(msg);});jQuery('.copy_text').click(function(e){e.preventDefault();var copyText=jQuery(this).attr('href');document.addEventListener('copy',function(e){e.clipboardData.setData('text/plain',copyText);e.preventDefault();},true);var successful=document.execCommand('copy');var msg=successful?'successful':'unsuccessful';console.log('Copying text command was '+msg);jQuery(this).html('<i class="fa fa-clone" style="background-color:#95a5a6;"></i><span>Copied!</span>');setInterval(function(){jQuery('.copy_text').html('<i class="fa fa-clone" style="background-color:#95a5a6;"></i><span>Copy link</span>');},800);});jQuery(".zoom").hover(function(){jQuery(this).addClass('transition');},function(){jQuery(this).removeClass('transition');});$ShowHideMore=$('.bd_service_body_row');$ShowHideMore.each(function(){var $times=$(this).children('.col-sm-6');if($times.length>8){$ShowHideMore.children(':nth-of-type(n+9)').addClass('moreShown').hide();$('.bd_service_body').find('span.service_message').addClass('more-times').html('+ Show more');}});$ShowHideMorenew=$('.bd_highlight_body_row');$ShowHideMorenew.each(function(){var $times_new=$(this).children('.col-sm-6');if($times_new.length>8){$ShowHideMorenew.children(':nth-of-type(n+9)').addClass('moreShown_new').hide();$('.bd_highlight_body').find('span.highlight_message').addClass('more-times-new').html('+ Show more');}});jQuery('#bd_review_submit').click(function(e){e.preventDefault();if(jQuery('#review_content').val().trim()==""){jQuery('#reponse_msg').html('<p>Please write review for this business.</p>');}else{var data={action:'add_review',bddata:jQuery('#review_form').serialize()};jQuery.post(bd_ajax_object.ajax_url,data,function(response){json_obj=jQuery.parseJSON(response)
if(json_obj['success']==1){jQuery('#review_content').val('');jQuery('#reponse_msg').html('<p class="text_green">Your Review added successfully!</p>');setTimeout(function(){location.href=location.href;},2000);}else{jQuery('#reponse_msg').html('<p class="text_red">Something is wrong. Please try again.</p>');}});}});jQuery('#inquireform').bind('submit',function(e){var response=grecaptcha.getResponse();console.log(response);if(response.length==0){e.preventDefault();alert("Captcha not validate!");}else{jQuery('form').submit();}});jQuery('.businesscategories>ul>li>.sidebarsubcategories>li>ul>li.current_business').closest('ul').show();});jQuery(document).on('click','.service_message',function($){var that=jQuery(this);var thisParent=that.closest('.bd_service_body_row');if(that.hasClass('more-times')){jQuery('.moreShown').show();that.toggleClass('more-times','less-times').html('- Show less');}else{jQuery('.moreShown').hide();that.toggleClass('more-times','less-times').html('+ Show more');}});jQuery(document).on('click','.highlight_message',function($){var that=jQuery(this);var thisParent=that.closest('.bd_highlight_body_row');if(that.hasClass('more-times-new')){jQuery('.moreShown_new').show();that.toggleClass('more-times-new','less-times-new').html('- Show less');}else{jQuery('.moreShown_new').hide();that.toggleClass('more-times-new','less-times-new').html('+ Show more');}});function getTotal(){var total=0;jQuery(':file').each(function(){if(this.files&&this.files[0]){total+=this.files[0].size;}});return total;}
jQuery(function(){var maxSize=20*1000*1000;jQuery(document).on('change',':file',function(){if(getTotal()>maxSize){jQuery(this).val('');alert('Total size of attachments exceeded. Please reduce the size.');}else{jQuery('#total').text(getTotal());}});});function responseMessage(msg){jQuery('.bd_reviews').show();jQuery('.success-box').fadeIn(200);jQuery('.success-box div.text-message').html("<span>"+msg+"</span>");}
function ConfirmDelete()
{var x=confirm("Are you sure you want to delete?");if(x)
return true;else
return false;}